@use "../abstracts" as *;
@use "../themes";

.material-tabs {
    $parent: &;
    $divider-height: 1px;
    $indicator-height: 3px;

    display: grid;
    grid-template-columns: 1fr;
    flex: 1;

    &__nav {
        $nav: &;
        display: flex;
        flex-wrap: wrap;

        @include themes.themify {
            background-color: themes.color("surface");
            color: themes.color("on-surface");
        }

        &-button {
            display: flex;
            flex-direction: column;
            justify-content: center;
            background-color: transparent;
            border: 0;
            flex: 1;

            &-icon,
            &-text {
                display: flex;
                flex: 1;
                align-self: center;
            }

            &-icon {
                align-items: end;
            }

            &-text {
                width: max-content;
                align-items: center;
            }

            &:not(:disabled) {
                cursor: pointer;
            }

            @include themes.themify {
                @include mix-colors(transparent, themes.color("on-surface"));

                &.current {
                    @include mix-colors(transparent, themes.color("primary"));
                }
            }
        }

        &--primary {
            height: 64px;

            #{$nav}-button {
                grid-template-rows: 1fr 1fr;

                @include themes.themify {
                    &:focus #{$nav}-button-text {
                        @include indicator(
                            themes.color("secondary"),
                            $indicator-height
                        );
                    }

                    &.current #{$nav}-button-text {
                        @include indicator(
                            themes.color("primary"),
                            $indicator-height
                        );
                    }
                }
            }
        }

        &--secondary {
            height: 48px;

            #{$nav}-button {
                @include themes.themify {
                    &:focus {
                        @include indicator(
                            themes.color("secondary"),
                            $indicator-height
                        );
                    }

                    &.current {
                        color: themes.color("on-surface");
                        @include indicator(
                            themes.color("primary"),
                            $indicator-height
                        );
                    }
                }
            }
        }
    }

    &--top {
        grid-template-rows: auto 1fr;

        #{$parent}__nav {
            grid-row: 1;

            @include themes.themify {
                border-bottom: $divider-height solid
                    themes.color("outline-variant");
            }
        }

        #{$parent}__content {
            grid-row: 2;
        }
    }

    &--bottom {
        grid-template-rows: 1fr auto;

        #{$parent}__nav {
            grid-row: 2;

            @include themes.themify {
                border-top: $divider-height solid
                    themes.color("outline-variant");
            }
        }

        #{$parent}__content {
            grid-row: 1;
        }
    }

    &__page {
        display: none;

        &.current {
            display: block;
        }
    }
}
