@use "../abstracts" as *;
@use "../themes";

.md-tabs {
    $parent: &;

    display: flex;
    flex-direction: column;
    flex: 1;

    &__button {
        box-sizing: border-box;
        flex: 1;
        border: 0;
        background-color: transparent;

        @include themes.themify {
            color: themes.color("on-surface-variant");
        }
    }

    &__icon {
        font-size: $icon__font-size;
    }

    &__label {
        @include font-styling("title-small");

        align-content: center;
    }

    &__nav {
        display: flex;
        flex-direction: row;
        height: 48px;

        @include themes.themify {
            @include divider;

            background-color: themes.color("surface");
        }

        @include data("type", "primary") {
            #{$parent}__button {
                display: grid;
                grid-template-rows: 1fr;
                justify-content: center;

                @include indicator(transparent, true);

                @include themes.themify {
                    @include mix-states(
                        transparent,
                        themes.color("on-surface"),
                        false,
                        false,
                        "hover",
                        "focus"
                    );

                    &:active {
                        color: themes.color("on-surface");
                        background-color: mix-color(
                            transparent,
                            themes.color("primary"),
                            "pressed"
                        );
                    }

                    &--selected {
                        @include indicator(themes.color("primary"), true);
                        @include mix-states(
                            transparent,
                            themes.color("primary"),
                            true,
                            true
                        );

                        &:focus {
                            @include indicator(themes.color("secondary"), true);
                        }
                    }
                }
            }

            &:has(#{$parent}__icon) {
                height: 64px;

                #{$parent}__button {
                    display: grid;
                    grid-template-rows: 1fr 1fr;
                }

                #{$parent}__icon {
                    align-content: end;
                }

                #{$parent}__label {
                    align-content: start;
                }
            }
        }

        @include data("type", "secondary") {
            height: 48px;

            #{$parent}__button {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 4px;

                @include themes.themify {
                    @include mix-states(
                        transparent,
                        themes.color("on-surface"),
                        false,
                        true
                    );

                    &--selected {
                        @include indicator(themes.color("primary"));

                        color: themes.color("on-surface");

                        &:focus {
                            @include indicator(themes.color("secondary"));
                        }
                    }
                }
            }
        }
    }

    &__page {
        display: block;
        padding: 16px;

        &:not(&--selected) {
            @include hidden;
        }
    }
}
