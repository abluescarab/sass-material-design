@use "../abstracts" as *;
@use "../themes";

.material-tabs {
    $parent: &;
    $divider-height: 1px;

    flex: 1;

    &__nav {
        $nav: &;

        display: flex;
        flex-wrap: wrap;

        @include themes.themify() {
            background-color: themes.color("surface");
            @include divider;
        }

        &-button {
            display: flex;
            flex-direction: column;
            justify-content: center;
            border: 0;
            flex: 1;

            &:not(:disabled) {
                cursor: pointer;
            }
        }

        &-icon,
        &-text {
            display: flex;
            flex: 1;
            align-self: center;
        }

        &-icon {
            align-items: end;
        }

        &-text {
            width: max-content;
            align-items: center;
            display: grid;
            grid-template-rows: 1fr auto;
            @include font-styling("title-small");
        }
    }

    &--primary {
        #{$parent}__nav {
            height: 64px;

            &-button {
                $text: #{$parent}__nav-text;

                @include themes.themify() {
                    color: themes.color("on-surface-variant");

                    @include mix-states(
                        transparent,
                        themes.color("on-surface"),
                        true,
                        "hover",
                        "focus"
                    );

                    #{$text} {
                        @include indicator(transparent, true);
                    }

                    &:active {
                        color: themes.color("on-surface");
                        background-color: mix-color(
                            transparent,
                            themes.color("primary"),
                            "pressed"
                        );
                    }

                    &.current {
                        @include mix-states(
                            transparent,
                            themes.color("primary"),
                            true
                        );

                        #{$text} {
                            @include indicator(themes.color("primary"), true);
                        }

                        &:focus #{$text} {
                            @include indicator(themes.color("secondary"), true);
                        }
                    }
                }
            }
        }
    }

    &--secondary {
        #{$parent}__nav {
            height: 48px;

            &-button {
                @include themes.themify() {
                    color: themes.color("on-surface-variant");

                    @include mix-states(
                        transparent,
                        themes.color("on-surface")
                    );

                    &.current {
                        color: themes.color("on-surface");
                        @include indicator(themes.color("primary"));

                        &:focus {
                            @include indicator(themes.color("secondary"));
                        }
                    }
                }
            }
        }
    }

    &__page {
        display: none;

        &.current {
            display: block;
        }
    }
}
