/// ============================================================================
/// @file           components/_dialog.scss
/// @description    Material Design dialog component.
/// @modifiers      full: fullscreen dialog
///                 visible: display the dialog
/// @elements       wrapper: wrapper around the entire dialog
///                 header: header with icon and headline
///                 icon: icon above headline at top of dialog
///                 headline: headline or title of dialog
///                 content: text, buttons, lists, etc. inside the dialog
///                 divider: optional divider between dialog sections
///                 actions: container for bottom action buttons
/// ============================================================================

@use "../abstracts" as *;
@use "../themes";

.md-dialog {
    $parent: &;
    $large-padding: 24px;
    $small-padding: 16px;

    z-index: 1;
    display: flex;
    align-items: center;
    flex-flow: column nowrap;
    position: fixed;
    inset: 0;
    overflow-y: auto;

    &:not(&--visible) {
        @include hidden;
    }

    &__wrapper {
        display: flex;
        flex-flow: column nowrap;
        padding: $large-padding;
        border-radius: sys("shape", "corner", "extra-large");
    }

    &__header {
        display: flex;
        align-items: center;
    }

    &__icon {
        @include square(24px, true);
    }

    &__headline {
        width: 100%;

        @include font-styling("headline-small");

        @include themes.themify {
            color: themes.color("on-surface");
        }
    }

    &__content {
        display: flex;
        flex-flow: column nowrap;
        gap: $small-padding;

        @include font-styling("body-medium");

        @include themes.themify {
            color: themes.color("on-surface-variant");
        }
    }

    &__divider {
        @include themes.themify {
            border-bottom: 1px solid themes.color("outline");
        }
    }

    &__actions {
        display: flex;
        margin-top: 16px;
        flex-flow: row nowrap;
        gap: 8px;
        align-items: center;
        justify-content: flex-end;
    }

    &:not(&--full) {
        justify-content: center;

        @include themes.themify {
            background-color: rgba(themes.color("scrim"), 0.32);
        }

        #{$parent}__wrapper {
            margin: calc($large-padding * 2);
            min-width: 280px;
            max-width: 560px;

            @include themes.themify {
                @include elevation(3);

                background-color: themes.color("surface-container-high");
            }
        }

        #{$parent}__header {
            flex-flow: column nowrap;
            padding-bottom: $small-padding;
        }

        #{$parent}__icon {
            padding-bottom: $small-padding;

            @include themes.themify {
                color: themes.color("secondary");
            }
        }

        &:has(#{$parent}__icon) #{$parent}__headline {
            text-align: center;
        }
    }

    &--full {
        &,
        #{$parent}__header {
            @include themes.themify {
                background-color: themes.color("surface");
            }
        }

        #{$parent}__wrapper {
            padding-top: 0;
            max-width: 560px;
            height: 100%;
        }

        #{$parent}__header {
            position: sticky;
            top: 0;
            flex-flow: row nowrap;
            padding-top: $large-padding;
            height: 56px;
            gap: $small-padding;
        }

        #{$parent}__icon {
            @include themes.themify {
                color: themes.color("on-surface");
            }
        }

        #{$parent}__content {
            padding: $small-padding $large-padding;
        }
    }
}
